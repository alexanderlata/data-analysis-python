# Основы NumPy

Библиотека [`NumPy`](https://numpy.org) (Numerical Python) является основой для научных вычислений в Python и позволяет работать с **многомерными массивами** и математическими функциями

[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html) - это N-мерный массив (структура данных), который используется для хранения элементов одного типа данных в многомерной сетке.

**Важно**: все элементы массива NumPy должны быть одного типа данных (int, float, complex и др.)

**Важно**: массивы NumPy значительно быстрее и эффективнее по памяти, чем списки Python

Функционал NumPy:

- многомерные массивы (1D, 2D, 3D и более)
- математические функции и операции
- линейная алгебра
- случайные числа
- преобразование Фурье
- работа с формой массивов
- логические операции
- статистические функции
- интеграция с C/C++ и Fortran
- основа для других библиотек (Pandas, Matplotlib, SciPy)

**Важное замечание**: *индексация массивов начинается с нуля!*

## Подключение библиотеки в Python

Стандартное соглашение по импорту

```python
import numpy as np
```

**Рекомендация**: после импорта библиотеки лучше зафиксировать версию, с которой вы работаете. Для этого выполните команду

```python
print(f"Версия NumPy: {np.__version__}")
```

## Основные функции NumPy

|Функция|Описание|
|-|-|
|`np.array(object, dtype=None)`|Создание массива из списка, кортежа или другой последовательности|
|`np.arange(start, stop, step)`|Создание массива с последовательностью чисел|
|`np.linspace(start, stop, num)`|Создание массива с равномерно распределенными числами|
|`np.zeros(shape, dtype=float)`|Создание массива из нулей|
|`np.ones(shape, dtype=float)`|Создание массива из единиц|
|`np.eye(N, M=None, dtype=float)`|Создание единичной матрицы|
|`np.random.random(size=None)`|Создание массива случайных чисел от 0 до 1|
|`np.random.randint(low, high, size)`|Создание массива случайных целых чисел|
|`np.loadtxt(fname, delimiter=None)`|Загрузка данных из текстового файла|
|`np.savetxt(fname, X, delimiter=' ')`|Сохранение массива в текстовый файл|

## Основные свойства и методы numpy.ndarray

|Свойства|Описание|
|-|-|
|`.shape`|Форма массива (размеры по каждой оси)|
|`.size`|Общее количество элементов|
|`.ndim`|Количество измерений (осей)|
|`.dtype`|Тип данных элементов|
|`.itemsize`|Размер каждого элемента в байтах|
|`.nbytes`|Общий размер массива в байтах|
|`.T`|Транспонированный массив|
|`.real`|Действительная часть комплексных чисел|
|`.imag`|Мнимая часть комплексных чисел|

|Метод|Описание|
|-|-|
|`.reshape(shape)`|Изменение формы массива|
|`.flatten()`|Преобразование в одномерный массив|
|`.ravel()`|Возвращает сплющенный массив|
|`.transpose(axes=None)`|Перестановка осей массива|
|`.astype(dtype)`|Изменение типа данных|
|`.copy()`|Создание копии массива|
|`.sum(axis=None)`|Сумма элементов вдоль оси|
|`.mean(axis=None)`|Среднее значение вдоль оси|
|`.std(axis=None)`|Стандартное отклонение вдоль оси|
|`.min(axis=None)`|Минимальное значение вдоль оси|
|`.max(axis=None)`|Максимальное значение вдоль оси|
|`.argmin(axis=None)`|Индекс минимального элемента|
|`.argmax(axis=None)`|Индекс максимального элемента|
|`.sort(axis=-1)`|Сортировка элементов вдоль оси|
|`.round(decimals=0)`|Округление элементов|

**Замечание**: большинство методов возвращает новый массив или изменяет существующий

## Математические операции и функции

### Арифметические операции
- Сложение: `+` или `np.add()`
- Вычитание: `-` или `np.subtract()`
- Умножение: `*` или `np.multiply()` (поэлементное)
- Деление: `/` или `np.divide()`
- Возведение в степень: `**` или `np.power()`
- Матричное умножение: `@` или `np.dot()`

### Математические функции
- `np.sqrt()` - квадратный корень
- `np.exp()` - экспонента
- `np.log()` - натуральный логарифм
- `np.sin()`, `np.cos()`, `np.tan()` - тригонометрические функции
- `np.abs()` - абсолютное значение
- `np.round()` - округление

### Статистические функции
- `np.mean()` - среднее значение
- `np.median()` - медиана
- `np.std()` - стандартное отклонение
- `np.var()` - дисперсия
- `np.min()`, `np.max()` - минимум и максимум
- `np.percentile()` - перцентили

## Индексация и срезы

- Обращение к элементу: `array[i]` (1D), `array[i, j]` (2D)
- Срезы: `array[start:stop:step]`
- Логическая индексация: `array[array > value]`
- Fancy индексация: `array[[1, 3, 5]]`
- Условная выборка: `np.where(condition, x, y)`

## Работа с формой массивов

- Изменение формы: `np.reshape(array, new_shape)`
- Добавление размерности: `np.expand_dims(array, axis)`
- Удаление размерности: `np.squeeze(array)`
- Объединение массивов: `np.concatenate()`, `np.vstack()`, `np.hstack()`
- Разделение массивов: `np.split()`, `np.vsplit()`, `np.hsplit()`

## Линейная алгебра

NumPy предоставляет модуль `numpy.linalg` для операций линейной алгебры:

- `np.dot()` - скалярное произведение
- `np.linalg.norm()` - норма вектора/матрицы
- `np.linalg.det()` - определитель матрицы
- `np.linalg.inv()` - обратная матрица
- `np.linalg.eig()` - собственные значения и векторы
- `np.linalg.solve()` - решение системы линейных уравнений

## Работа со случайными числами

Модуль `numpy.random` предоставляет генераторы случайных чисел:

- `np.random.seed(n)` - установка seed для воспроизводимости
- `np.random.random()` - случайные числа от 0 до 1
- `np.random.normal(loc, scale, size)` - нормальное распределение
- `np.random.uniform(low, high, size)` - равномерное распределение
- `np.random.choice(a, size)` - случайный выбор из массива
- `np.random.shuffle(array)` - перемешивание массива